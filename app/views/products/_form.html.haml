.form
  = form_for @product do |f|
    -if @product.errors.any?
      #error_explanation
        %h2= "#{pluralize(@product.errors.count, "error")} prohibited this product from being saved:"
        %ul
          - @product.errors.full_messages.each do |msg|
            %li= msg

    .row
      .label= f.label :title, 'Name'
      .field= f.text_field :title, { :size => 40 }
    .row
      .label= f.label :description, 'Beschreibung'
      .field= f.text_area :description, {:rows => 10, :cols => 60 }
    .row
      .label= f.label :category, 'Kategorie'
      .field=f.select(:category, Category.all.collect{ |c| [c.title]})
    .row
      Optionen
      = f.fields_for :options do |builder|
        = render 'option_fields', :f => builder
    .new_option=link_to_add_fields "neue Option", f, :options   
    .row 
      .label= f.label :price, 'Preis'
      .field
        = f.text_field :price, { :size => 6 }
        â‚¬
    .row
      Bilder
      = f.fields_for :product_images do |builder|
        = render 'product_image_fields', :f => builder
    .new_option=link_to_add_fields "neues Bild", f, :product_images  

    .actions
      = f.submit 'Speichern', id: 'save'
